<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Detalles de Noticia - EcoGuardian</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.2/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.4.0/jspdf.umd.min.js"></script>    
    <style>
        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            font-family: Arial, sans-serif;
        }
        header {
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1030;
            transition: background-color 0.5s ease-in-out;
            height: 90px;
            padding: 0 10%;
            background-color: transparent;
            background: url('img/fondo.jpg') no-repeat center center fixed;
            font-weight: bold;
        }
        .navbar.solid {
            background-color: white;
        }
        .navbar.solid .nav-link, .navbar.solid .navbar-brand {
            color: white;
        }
        .navbar.solid .nav-link:hover {
            color: #adff2f;
        }
        .profile-icon-btn {
            display: flex;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background-image: url('img/a.jpg');
            background-size: cover;
            background-position: center;
            align-items: center;
            justify-content: center;
            border: none;
        }
        .navbar-nav {
            align-items: center;
            margin-right: 100px;
        }
        footer {
            width: 100%;
            text-align: center;
            padding: 20px 0;
            margin-top: 40px; /* Aumentado el margen superior */
            background-color: rgb(156, 156, 156);
        }
        .footer-text {
            margin: 5px 0;
        }
        .btn-signin {
            background-color: #4CAF50;
            color: white;
            border: none;
            padding: 8px 16px;
            font-weight: bold;
            transition: background-color 0.3s;
        }
        .btn-signin:hover {
            background-color: #45a049;
        }
        .custom-spacing {
            margin-right: 50px;
            margin-left: 50px;
        }
        .dropdown-menu {
            width: 320px;
            min-height: 260px;
        }
        .dropdown-menu::before {
            content: '';
            position: absolute;
            top: 0;
            right: 45px;
            border: 10px solid transparent;
            border-bottom-color: white;
        }
        .dropdown-header {
            font-size: 16px;
            font-weight: bold;
            text-align: center;
            padding: 10px;
        }
        .notification-card {
            display: flex;
            align-items: center;
            justify-content: start;
            padding: 10px;
            margin-top: 10px;
            background-color: #f8f9fa;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .notification-card .user-icon {
            width: 40px;
            height: 30px;
            border-radius: 50%;
            background-color: #bbb;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 10px;
        }
        .notification-card strong {
            font-weight: bold;
        }
        .dropdown-item {
            display: block;
            width: 100%;
            padding: 10px;
            text-align: center;
        }
        .media-card {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        .media-content {
            display: flex;
            align-items: high;
        }
        .media-description {
            margin-left: 20px;
        }
        .img-fluid {
            max-width: 100%;
            height: auto;
        }
        .btn-back {
            margin-top: 20px;
        }
        .mt-5.pt-5 {
            padding-top: 80px !important; /* Asegura suficiente espacio arriba debido al header fijo */
        }
        .container {
            margin-top: 100px; /* Espacio adicional entre navbar y contenido */
            margin-bottom: 40px; /* Espacio adicional entre contenido y footer */
        }
        .download-btn {
            width: 35px;
            height: 35px; 
            font-size: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
    </style>
</head>
<body>
    <header class="navbar navbar-expand-lg navbar-dark fixed-top solid">
        <div class="container-fluid">
            <a class="navbar-brand" href="index_user.html">EcoGuardian</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="index_user.html">Inicio</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="foro_user.html">Foro</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="catalogo_user.html">Catálogo</a>
                    </li>
                    <li class="nav-item me-5">
                        <a class="nav-link active" href="noticias_user.html">Noticias</a>
                    </li>
                    <li class="nav-item dropdown">
                        <button class="profile-icon-btn" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                        </button>
                        <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdownMenuButton">
                            <li class="dropdown-header">Grupo 4</li>
                            <li><a class="dropdown-item">Notificaciones</a></li>
                            <div class="notification-card">
                                <div class="user-icon">
                                    <i class="fas fa-user"></i>
                                </div>
                                <p><strong>Juan Luján</strong> respondió a tu comentario en el foro.</p>
                            </div>
                            <li><hr class="dropdown-divider"></li>
                            <li><a class="dropdown-item" style="background-color: rgba(224, 12, 12, 0.795);" type="button" href="index.html">Cerrar Sesión</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </header>
    <main class="container mt-5 pt-5">
        <div class="d-flex justify-content-between align-items-center">
            <h1 class="flex-grow-1">Ministro Juan Carlos Castro: obra de infraestructura disposición final de residuos tienen un avance de 73 % para la provincia de Trujillo</h1>
            <button class="btn btn-primary download-btn" onclick="downloadPDF()">
                <i class="fas fa-download"></i>
            </button>
        </div>
        <div id="content-to-download">
            <!-- Contenido existente -->
            <div class="row">
                <div class="col-md-6">
                    <img src="img_noticias/noticia2.jpg" alt="Imagen de la Noticia" class="img-fluid">
                    <p class="text-muted">Ministro del Ambiente, Juan Carlos Castro junto a un equipo de arquitectos e ingenieros.</p>
                    <p class="text-muted">Publicado el: 07-05-2024</p>
                </div>
                <div class="col-md-6">
                    <h5>En las próximas semanas, se conformará mesa técnica para abordar los aspectos ambientales de la región La Libertad.</h5><br>
                    <p>En setiembre próximo, los nueve distritos de la provincia de Trujillo contarán con una infraestructura para disposición final de residuos y planta de valorización, la cual actualmente cuenta con un avance de 73 %, informó el ministro del Ambiente, Juan Carlos Castro.</p>
                    <p>Explicó que esta obra se construye en un área de 63 hectáreas, la cual tendrá una vida útil de aproximadamente 15 años. “La vida útil de esta infraestructura puede ser mayor y llegar hasta 20 años. Dependerá de las municipalidades y la ciudadanía quienes deberán hacer una adecuada gestión y promover el reciclaje”, sostuvo en sus declaraciones a los medios de la región La Libertad.</p>
                    <p>Agregó que la referida infraestructura, que involucra una inversión de más de S/43 000 000 permitirá que las calles se mantengan limpias, principalmente en momentos que la ciudad de Trujillo será sede para el desarrollo del Foro de Cooperación Económica Asia Pacífico (APEC). La construcción beneficiará a los distritos de Trujillo, Huanchaco, El Porvenir, Víctor Larco, Florencia de Mora, La Esperanza, Salaverry, Moche y Laredo.</p>
                    <p>En ese sentido, dijo que los especialistas del Ministerio del Ambiente (Minam) brindarán asistencia técnica a los municipios provinciales y distritales para una adecuada gestión de los residuos, que comprende también adquisición de vehículos.</p>
                    <p>Indicó también que el cierre del botadero El Milagro, ubicado en el distrito de Huanchaco, provincia de Trujillo se realizará en estricto cumplimiento de los estándares ambientales.</p><br>
                    <h5>Contaminación del Río Moche</h5><br>
                    <p>Asimismo, el titular del sector informó que en las próximas semanas se implementará una mesa técnica para abordar la problemática ambiental de la referida región a fin de adoptar las acciones de corto, mediano y largo plazo, siendo uno de los temas principales la contaminación del río Moche, que ha sido afectado por pasivos mineros.</p>
                    <p>Para ello, dijo, se convocará a todos los actores involucrados como el gobernador regional de La Libertad, los ministerios de Energía y Minas, Producción, la Autoridad Nacional del Agua, entre otros. </p>
                </div>
            </div>
        </div>        
        <button onclick="window.history.back();" class="btn btn-primary btn-back">Volver</button>
    </main>
    <footer class="text-center mt-4 mb-4">
        <p class="footer-text">EcoGuardian</p>
        <p class="footer-text">Dirección: Av. América Sur 3145, Trujillo, La Libertad, Perú</p>
        <p class="footer-text">Email de contacto: ecoguardian@upao.edu.pe</p>
        <p class="footer-text">Horario de atención: Lunes a viernes, de 9:00 am a 17:00 pm</p>
        <br>
        <p class="footer-text">Todos los derechos reservados ©2024</p>
    </footer>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            setTimeout(() => {
                var header = document.querySelector("header");
                header.classList.remove("solid");
                header.classList.add("transparent");
            }, 500);
        });

        document.addEventListener("scroll", function() {
            var header = document.querySelector("header");
            if (window.scrollY > 50) {
                header.classList.remove("transparent");
                header.classList.add("solid");
            } else {
                header.classList.add("transparent");
                header.classList.remove("solid");
            }
        });
        function downloadPDF() {
        html2canvas(document.getElementById('content-to-download'), {
            useCORS: true,
            onclone: (document) => {
                let imgs = document.getElementsByTagName('img');
                for (let img of imgs) {
                    img.setAttribute('crossOrigin', 'anonymous');
                }
            }            
        }).then(canvas => {
            const imgData = canvas.toDataURL('image/png');
            const pdf = new window.jspdf.jsPDF({
                orientation: 'portrait',
                unit: 'px',
                format: [canvas.width, canvas.height]
            });
            pdf.addImage(imgData, 'PNG', 0, 0, canvas.width, canvas.height);
            pdf.save('detalle-especie.pdf');
        }).catch(err => {
            console.error("Error al generar el PDF: ", err);
        });
    }
    </script>
</body>
</html>